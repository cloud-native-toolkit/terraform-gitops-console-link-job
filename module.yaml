name: gitops-console-link-job
type: terraform
description: Module that populates a gitops repository with the Console Link Cronjob chart from https://charts.cloudnativetoolkit.dev. The chart deploys a cron job into a cluster that runs periodically (every 5 minutes by default) looking for matching resources and creating cron jobs and config maps with the information. The matching resources include routes with the `console-link.cloud-native-toolkit.dev/enabled=true` label and `logdna-agent` and `sysdig-agent` daemonsets.
tags:
  - tools
  - gitops
  - consolelink
  - cronjob
versions:
  - platforms: []
    dependencies:
      - id: gitops
        refs:
          - source: github.com/cloud-native-toolkit/terraform-tools-gitops.git
            version: ">= 1.1.0"
      - id: namespace
        refs:
          - source: github.com/cloud-native-toolkit/terraform-gitops-namespace.git
            version: ">= 1.0.0"
    variables:
      - name: config_repo
        moduleRef:
          id: gitops
          output: config_repo
      - name: config_token
        moduleRef:
          id: gitops
          output: config_token
      - name: config_paths
        moduleRef:
          id: gitops
          output: config_paths
      - name: config_projects
        moduleRef:
          id: gitops
          output: config_projects
      - name: application_repo
        moduleRef:
          id: gitops
          output: application_repo
      - name: application_token
        moduleRef:
          id: gitops
          output: application_token
      - name: application_paths
        moduleRef:
          id: gitops
          output: application_paths
      - name: namespace
        moduleRef:
          id: namespace
          output: name
